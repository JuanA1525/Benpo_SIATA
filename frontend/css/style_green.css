/* Green Elegant Theme for SIATA Dashboard */
* { margin:0; padding:0; box-sizing:border-box; }
:root {
  --bg-dark:#0f5132;
  --bg-mid:#146c43;
  --bg:#198754;
  --accent:#2ecc71;
  --accent-soft:#d1fae5;
  --focus-ring:rgba(46,204,113,.45);
  --gradient-main:linear-gradient(140deg,#0f5132 0%,#146c43 35%,#198754 65%,#2ecc71 100%);
  --gradient-btn:linear-gradient(45deg,#0f5132,#198754);
  --gradient-btn-active:linear-gradient(45deg,#198754,#0f5132);
  --gradient-card:linear-gradient(135deg,#0f5132 0%,#198754 70%,#2ba86a 100%);
  /* Added contrast & semantic tokens */
  --surface-card:#0d1f12;
  --surface-card-alt:#12301b;
  --text-strong:#e8ffee;
  --text-faint:#b2d6bd;
  --temp-max:#ff784e;
  --temp-min:#4ea6ff;
}
body {
  font-family:"Segoe UI", system-ui, sans-serif; line-height:1.55; color:#123524; background:var(--gradient-main); min-height:100vh; -webkit-font-smoothing:antialiased;
}
header { background:rgba(10,40,25,.85); backdrop-filter:blur(10px); padding:.85rem 2rem; display:flex; align-items:center; justify-content:space-between; position:sticky; top:0; z-index:1000; box-shadow:0 4px 20px rgba(0,0,0,.15); }
.header-content { display:flex; gap:1rem; align-items:center; }
.header-content h1 { font-size:1.85rem; font-weight:700; background:linear-gradient(60deg,#2ecc71,#c3f8d6,#2ecc71); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; letter-spacing:.5px; margin:0; }
.subtitle { color:#d1fae5; font-size:.8rem; font-weight:400; opacity:.85; }
nav { display:flex; gap:1rem; }
.tab-btn { background:var(--gradient-btn); color:#fff; border:none; padding:12px 24px; border-radius:50px; font-size:.95rem; font-weight:600; cursor:pointer; display:flex; align-items:center; gap:8px; box-shadow:0 4px 15px rgba(15,81,50,.4); transition:all .3s ease; }
.tab-btn:hover { transform:translateY(-2px); box-shadow:0 8px 25px rgba(25,135,84,.45); }
.tab-btn.active { background:var(--gradient-btn-active); box-shadow:0 10px 30px rgba(15,81,50,.55); }
main { padding:2rem; max-width:1500px; margin:0 auto; }
.tab-content { display:none; background:rgba(255,255,255,0.9); backdrop-filter:blur(10px); border-radius:24px; padding:2rem; box-shadow:0 24px 70px -15px rgba(0,0,0,.25); min-height:600px; }
.tab-content.active { display:block; animation:fadeIn .55s ease; }
#map-tab.tab-content { padding:0; background:transparent; box-shadow:none; min-height:unset; }
#map-tab .tab-header { padding:1rem 2rem .5rem 2rem; margin-bottom:.25rem; }
#map-tab .map-wrapper { height:100%; border-radius:0; box-shadow:none; }
.map-layout { display:flex; gap:0; height:calc(100vh - 160px); }
.map-layout .map-wrapper { flex:1 1 auto; min-width:0; }
.map-controls-panel { width:360px; max-width:360px; background:rgba(255,255,255,0.92); backdrop-filter:blur(12px); border-left:1px solid #b6e9c9; padding:1.4rem 1.4rem 2rem; overflow-y:auto; position:relative; }
.heatmap-controls.standalone { background:transparent; border:none; box-shadow:none; padding:0; }
.heatmap-controls.standalone h3 { text-align:left; margin-bottom:.65rem; font-size:1.05rem; }
.heatmap-controls.standalone .form-grid { margin-bottom:.45rem; }
.action-row { margin-top:.3rem; }
.generate-btn { width:100%; background:linear-gradient(45deg,#198754,#2ecc71); color:#fff; border:none; padding:11px 18px; font-size:.9rem; font-weight:600; border-radius:14px; cursor:pointer; box-shadow:0 5px 18px -4px rgba(0,0,0,0.32); transition:.25s; display:flex; align-items:center; justify-content:center; gap:6px; }
.generate-btn:hover { transform:translateY(-2px); box-shadow:0 12px 26px -6px rgba(0,0,0,0.45); }
.generate-btn:active { transform:translateY(0); }

/* Simplified refresh (removed old overlay) */
.map-refresh-overlay { display:none !important; }

/* Global loader */
.global-loader { position:fixed; inset:0; background:radial-gradient(circle at 30% 30%, #0f5132 0%, #052d17 70%); display:flex; align-items:center; justify-content:center; z-index:4000; color:#d1fae5; font-family:"Segoe UI", system-ui; animation:fadeIn .5s ease; }
.global-loader[aria-hidden="true"] { display:none; }
.loader-inner { text-align:center; max-width:340px; }
.spinner-ring { width:72px; height:72px; border:6px solid rgba(255,255,255,0.15); border-top-color:#2ecc71; border-radius:50%; margin:0 auto 1.4rem; animation:spin 1s linear infinite; }
.loader-inner h2 { font-size:1.4rem; margin:0 0 .6rem; letter-spacing:.5px; background:linear-gradient(60deg,#d1fae5,#2ecc71); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; }
.loader-inner p { font-size:.85rem; letter-spacing:.5px; opacity:.85; }

/* Responsive adjustments */
@media (max-width:1100px){ .map-layout { flex-direction:column; height:auto; } .map-controls-panel { width:100%; max-width:none; border-left:none; border-top:1px solid #b6e9c9; display:flex; flex-direction:column; } #map-tab .map-wrapper { height:60vh; } }
@media (max-width:600px){ #map-tab .map-wrapper { height:55vh; } }
@keyframes fadeIn { from { opacity:0; transform:translateY(30px);} to { opacity:1; transform:translateY(0);} }
.tab-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem; padding-bottom:1rem; border-bottom:2px solid #e6f5ec; }
.tab-header h2 { font-size:1.6rem; font-weight:600; color:#0f5132; margin:0; }
.refresh-btn, .control-btn, .btn-primary { background:linear-gradient(45deg,#198754,#2ecc71); color:#fff; border:none; padding:10px 22px; border-radius:28px; font-weight:600; cursor:pointer; display:flex; align-items:center; gap:8px; box-shadow:0 6px 18px -4px rgba(0,0,0,.35); transition:all .3s ease; font-size:.9rem; }
.refresh-btn:hover, .control-btn:hover, .btn-primary:hover { transform:translateY(-2px); box-shadow:0 10px 28px -6px rgba(0,0,0,.45); }
.map-wrapper { position:relative; height:600px; border-radius:18px; overflow:hidden; box-shadow:0 12px 32px -8px rgba(0,0,0,.35); transition:height .3s ease; }
#map { height:100%; width:100%; }
.map-controls-container { position:absolute; top:10px; right:10px; z-index:1000; }
.heatmap-controls { background:rgba(255,255,255,0.92); backdrop-filter:blur(12px); padding:1rem 1rem 1.05rem; border-radius:16px; box-shadow:0 10px 24px -6px rgba(0,0,0,.25); min-width:260px; border:1px solid #b6e9c9; display:flex; flex-direction:column; gap:.55rem; flex-wrap:wrap; }
.heatmap-controls h3 { color:#134d30; margin-bottom:.9rem; font-size:1.1rem; font-weight:700; letter-spacing:.5px; text-align:center; }
.form-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(110px,1fr)); gap:.45rem .55rem; }
.form-grid.small-cols { grid-template-columns:repeat(auto-fit,minmax(90px,1fr)); }
.form-grid label { display:flex; flex-direction:column; font-size:.62rem; text-transform:uppercase; letter-spacing:.5px; color:#2d5943; gap:3px; font-weight:700; }
.input-select,.input-date,.input-number { appearance:none; border:1px solid #c6e8d4; border-radius:10px; padding:6px 8px; font-size:.72rem; background:#fff; font-weight:600; color:#134d30; outline:none; transition:border-color .2s, box-shadow .2s; }
.input-select:focus,.input-date:focus,.input-number:focus { border-color:var(--bg); box-shadow:0 0 0 2px var(--focus-ring); }
.checkbox-inline { display:flex; align-items:center; gap:4px; font-size:.62rem; font-weight:700; color:#2d5943; }
.buttons-row { display:grid; grid-template-columns:repeat(auto-fit,minmax(50px,1fr)); gap:.5rem; }
.buttons-row .heatmap-btn:first-child { grid-column:1 / span 2; }
.back-btn { display:flex; align-items:center; gap:6px; }
.meta-info { background:#f0fbf5; border:1px solid #d0f2de; padding:.6rem .75rem; border-radius:12px; font-size:.62rem; line-height:1.25; color:#134d30; font-weight:600; display:grid; gap:2px; }
.panel-title { display:flex; align-items:center; justify-content:space-between; gap:.5rem; }
.panel-title h3 { margin:0; }
.help-btn { background:linear-gradient(135deg,#146c43,#198754); border:1px solid #c6e8d4; color:#fff; width:32px; height:32px; border-radius:10px; cursor:pointer; font-weight:700; font-size:.85rem; display:flex; align-items:center; justify-content:center; box-shadow:0 4px 12px -4px rgba(0,0,0,.3); transition:.25s; }
.help-btn:hover { transform:translateY(-2px); box-shadow:0 8px 20px -6px rgba(0,0,0,.4); }
.help-btn:active { transform:translateY(0); }
.heatmap-help { background:linear-gradient(135deg,#0f5132,#146c43); color:#e8ffee; border:1px solid rgba(255,255,255,0.15); padding:.85rem .9rem .9rem; border-radius:14px; font-size:.62rem; line-height:1.25; box-shadow:0 10px 26px -10px rgba(0,0,0,.55), inset 0 0 0 1px rgba(255,255,255,0.05); animation:fadeIn .35s ease; }
.heatmap-help h4 { margin:.05rem 0 .5rem; font-size:.75rem; letter-spacing:.5px; }
.heatmap-help ul { list-style:none; padding:0; margin:0 0 .55rem; display:grid; gap:.3rem; }
.heatmap-help li { position:relative; padding-left:.85rem; }
.heatmap-help li::before { content:'â€¢'; position:absolute; left:0; color:#2ecc71; }
.heatmap-help .note { margin:0; font-style:italic; opacity:.85; }
.help-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:.15rem; }
.close-help { background:rgba(255,255,255,0.15); border:1px solid rgba(255,255,255,0.25); color:#fff; width:26px; height:26px; border-radius:8px; cursor:pointer; font-size:.9rem; display:flex; align-items:center; justify-content:center; transition:.25s; }
.close-help:hover { background:rgba(255,255,255,0.25); }
.heatmap-btn { background:linear-gradient(45deg,#198754,#27ae60); color:#fff; border:none; padding:9px 14px; border-radius:22px; cursor:pointer; transition:all .3s ease; font-weight:600; font-size:.8rem; box-shadow:0 4px 12px -2px rgba(0,0,0,.25); }
.heatmap-btn:hover { transform:translateY(-1px); box-shadow:0 6px 16px rgba(25,135,84,.35); }
.heatmap-btn.active { background:linear-gradient(45deg,#0f5132,#198754); box-shadow:0 6px 16px rgba(15,81,50,.45); }
.heatmap-btn.clear { background:linear-gradient(45deg,#b02a37,#dc3545); }
.heatmap-btn.clear:hover { box-shadow:0 6px 16px rgba(220,53,69,.3); }
.control-btn { width:100%; justify-content:center; }
.heatmap-legend { margin-top:1rem; padding-top:1rem; border-top:1px solid #d9efe2; }
.heatmap-legend h4 { color:#134d30; margin-bottom:.8rem; font-size:.9rem; font-weight:700; }
.legend-gradient { height:20px; border-radius:10px; margin-bottom:.5rem; border:1px solid #c6e8d4; }
.legend-labels { display:flex; justify-content:space-between; font-size:.7rem; color:#2d5943; font-weight:600; }
.station-popup h3 { color:#134d30; margin-bottom:.5rem; border-bottom:2px solid #198754; padding-bottom:.3rem; }
/* Forecast Section */
.zone-selector h3 { text-align:center; margin-bottom:2rem; color:#0f5132; font-size:1.3rem; }
.zones-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1.4rem; margin-bottom:2rem; }
.zone-card { background:var(--gradient-card); color:#fff; padding:1.4rem 1.3rem; border-radius:20px; cursor:pointer; position:relative; overflow:hidden; transition:all .35s ease; text-align:center; box-shadow:0 10px 30px -10px rgba(15,81,50,.55); }
.zone-card h3 { color:#ffffff; text-shadow:0 2px 8px rgba(0,0,0,.55); }
.zone-card::after { content:""; position:absolute; inset:0; background:radial-gradient(circle at 30% 20%,rgba(255,255,255,.25),transparent 60%); opacity:.4; transition:opacity .4s ease; }
.zone-card:hover { transform:translateY(-6px); box-shadow:0 24px 46px -10px rgba(15,81,50,.55); }
.zone-card:hover::after { opacity:.55; }
.zone-card.no-data { background:linear-gradient(135deg,#95a5a6,#7f8c8d); opacity:.8; }
.zone-icon { font-size:2.4rem; margin-bottom:.7rem; filter:drop-shadow(0 4px 8px rgba(0,0,0,.25)); }
.status-indicator { font-size:.65rem; padding:.32rem .85rem; border-radius:14px; font-weight:700; letter-spacing:.5px; backdrop-filter:blur(4px); }
.status-indicator.available { background:rgba(46,204,113,.15); color:#d1fae5; border:1px solid rgba(209,250,229,.25); }
.status-indicator.unavailable { background:rgba(231,76,60,.18); color:#ffe2de; border:1px solid rgba(255,255,255,.25); }
.forecast-header { background:var(--gradient-card); color:#fff; padding:1.5rem 1.8rem; border-radius:22px; margin-bottom:2rem; display:flex; align-items:center; gap:1rem; box-shadow:0 12px 36px -12px rgba(15,81,50,.6); position:relative; overflow:hidden; }
.forecast-header h2 { color:#ffffff; text-shadow:0 3px 10px rgba(0,0,0,.55); }
.forecast-header::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 75% 25%,rgba(255,255,255,.3),transparent 70%); opacity:.4; }
.back-btn { background:rgba(255,255,255,.2); color:#fff; border:none; padding:.55rem 1.1rem; border-radius:25px; cursor:pointer; font-weight:600; transition:all .3s; }
.back-btn:hover { background:rgba(255,255,255,.3); }
.forecast-days { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:1.5rem; }
.forecast-day { background:#ffffff; border-radius:20px; padding:1.4rem 1.4rem 1.6rem; box-shadow:0 10px 30px -10px rgba(0,0,0,.18); transition:all .35s ease; border:1px solid #e2f3e9; position:relative; overflow:hidden; }
.forecast-day::after { content:""; position:absolute; inset:0; background:linear-gradient(135deg,rgba(25,135,84,.07),rgba(46,204,113,.08)); opacity:0; transition:opacity .4s ease; }
.forecast-day:hover { transform:translateY(-5px); box-shadow:0 22px 40px -12px rgba(0,0,0,.25); }
.forecast-day:hover::after { opacity:1; }
.forecast-day.today { border:2px solid #198754; box-shadow:0 12px 34px -10px rgba(25,135,84,.4); }
.day-header { text-align:center; margin-bottom:1.2rem; padding-bottom:.9rem; border-bottom:1px solid #eef6f1; }
.day-header h4 { color:#0f5132; font-size:1.25rem; margin:0 0 .4rem; }
.date { color:#2d5943; font-size:.8rem; font-weight:600; letter-spacing:.5px; }
.weather-info { display:grid; grid-template-columns:1fr 1fr; gap:1.2rem; margin-bottom:1.2rem; }
.temp-item { display:flex; align-items:center; justify-content:center; gap:.7rem; margin-bottom:.9rem; }
.temp-max { color:var(--temp-max); font-size:1.45rem; font-weight:700; text-shadow:0 2px 6px rgba(0,0,0,.4); }
.temp-min { color:var(--temp-min); font-size:1.45rem; font-weight:700; text-shadow:0 2px 6px rgba(0,0,0,.35); }
.temp-label { color:#49745d; font-size:.7rem; text-transform:uppercase; font-weight:700; letter-spacing:.5px; }
.rain-percent { font-size:1.9rem; font-weight:700; color:#0f5132; }
.rain-level { font-size:.75rem; font-weight:700; padding:.35rem .85rem; border-radius:16px; margin-top:.5rem; letter-spacing:.5px; }
.rain-level-alta { background:rgba(231,76,60,.15); color:#b42312; }
.rain-level-media { background:rgba(243,156,18,.15); color:#b25e00; }
.rain-level-baja { background:rgba(46,204,113,.18); color:#0f5132; }
.hourly-rain { background:#f8fdf9; padding:1rem; border-radius:14px; border:1px solid #e1f4e8; }
.hourly-rain h5 { color:#0f5132; margin:0 0 1rem; text-align:center; font-size:.85rem; }
.rain-hours { display:grid; grid-template-columns:repeat(auto-fit,minmax(60px,1fr)); gap:.55rem; }
.hour-rain { text-align:center; padding:.55rem .35rem; border-radius:10px; transition:all .3s ease; font-size:.65rem; font-weight:600; }
.hour-rain.high { background:rgba(231,76,60,.13); color:#b42312; }
.hour-rain.medium { background:rgba(243,156,18,.18); color:#b25e00; }
.hour-rain.low { background:rgba(46,204,113,.18); color:#0f5132; }
.hour { font-weight:700; font-size:.7rem; letter-spacing:.5px; }
.rain-amount { font-size:.6rem; margin-top:.2rem; opacity:.9; }
.btn-primary { background:linear-gradient(45deg,#0f5132,#198754); color:#fff; border:none; padding:12px 24px; border-radius:25px; cursor:pointer; transition:all .3s ease; font-weight:600; box-shadow:0 6px 18px rgba(15,81,50,.4); }
.btn-primary:hover { transform:translateY(-2px); box-shadow:0 10px 28px rgba(25,135,84,.55); }
/* Station Marker Styles */
.custom-station-marker .station-marker { width:18px; height:18px; transform:rotate(45deg); border:2px solid #fff; border-radius:4px; box-shadow:0 2px 6px rgba(0,0,0,.35); background:#198754; position:relative; }
.station-marker.level-1 { background:#ffc107; }
.station-marker.level-2 { background:#198754; }
.station-marker.level-3 { background:#0a3622; }
.custom-station-marker .station-marker::after { content:""; position:absolute; inset:3px; border-radius:2px; background:rgba(255,255,255,.35); }
.leaflet-tooltip.station-tooltip { background:rgba(255,255,255,0.95); color:#134d30; border:1px solid #b6e9c9; border-radius:10px; padding:.55rem .7rem; box-shadow:0 6px 18px -4px rgba(0,0,0,.25); }
.leaflet-tooltip.station-tooltip h3 { font-size:.75rem; margin:0 0 .25rem; color:#0f5132; }
.leaflet-tooltip.station-tooltip p { margin:.12rem 0; font-size:.6rem; line-height:1.15; }
/* Station history side panel */
#station-history-panel { position:fixed; top:0; right:0; width:420px; max-width:100%; height:100%; background:linear-gradient(165deg,#0f5132 0%,#082d19 120%); color:#e8ffee; box-shadow:-6px 0 28px -8px rgba(0,0,0,0.55); z-index:3500; transform:translateX(100%); transition:transform .35s ease; display:flex; flex-direction:column; }
#station-history-panel.visible { transform:translateX(0); }
#station-history-panel .sh-inner { padding:1.2rem 1.3rem 1.4rem; display:flex; flex-direction:column; gap:.9rem; height:100%; overflow:hidden; }
.sh-header { display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
.sh-header h4 { margin:0; font-size:1.05rem; letter-spacing:.5px; }
.sh-close { background:rgba(255,255,255,0.15); border:1px solid rgba(255,255,255,0.25); color:#fff; width:34px; height:34px; border-radius:10px; cursor:pointer; font-size:1rem; display:flex; align-items:center; justify-content:center; transition:.25s; }
.sh-close:hover { background:rgba(255,255,255,0.25); }
.sh-filters { display:grid; grid-template-columns:repeat(auto-fit,minmax(110px,1fr)); gap:.55rem; background:rgba(255,255,255,0.07); padding:.7rem .75rem .8rem; border:1px solid rgba(255,255,255,0.12); border-radius:14px; }
.sh-filters label { display:flex; flex-direction:column; gap:4px; font-size:.58rem; text-transform:uppercase; letter-spacing:.6px; font-weight:600; }
.sh-filters input, .sh-filters select { background:rgba(255,255,255,0.15); border:1px solid rgba(255,255,255,0.25); color:#e8ffee; padding:6px 7px; border-radius:8px; font-size:.65rem; outline:none; }
.sh-filters select[multiple] { height:84px; }
.sh-apply { grid-column:1 / -1; background:linear-gradient(45deg,#198754,#2ecc71); border:none; padding:8px 14px; border-radius:12px; font-size:.7rem; font-weight:600; letter-spacing:.5px; cursor:pointer; color:#fff; box-shadow:0 4px 14px -4px rgba(0,0,0,0.45); }
.sh-apply:hover { filter:brightness(1.07); }
.sh-content { position:relative; flex:1 1 auto; background:rgba(0,0,0,0.25); border:1px solid rgba(255,255,255,0.12); border-radius:14px; padding:.8rem; overflow:auto; }
.sh-loading-spinner { width:42px; height:42px; border:5px solid rgba(255,255,255,0.2); border-top-color:#2ecc71; border-radius:50%; animation:spin 1s linear infinite; margin:2.4rem auto .8rem; }
.sh-content p { text-align:center; font-size:.72rem; letter-spacing:.5px; }
.sh-error { color:#ffa8a8; }
.sh-empty { opacity:.7; }
.sh-table-wrapper { overflow:auto; max-height:100%; }
.sh-table { width:100%; border-collapse:collapse; font-size:.62rem; }
.sh-table th, .sh-table td { padding:.35rem .5rem; border-bottom:1px solid rgba(255,255,255,0.09); text-align:right; }
.sh-table th:first-child, .sh-table td:first-child { text-align:left; }
.sh-table th { position:sticky; top:0; background:#0f5132; z-index:1; }
.sh-date { white-space:nowrap; }
.custom-station-marker { cursor:pointer; }
/* Responsive */
@media (max-width:900px){ main { padding:1.2rem; } #map-tab .map-wrapper { height:calc(100vh - 210px);} }
@media (max-width:768px){ header { flex-direction:column; align-items:flex-start; gap:.6rem;} nav { width:100%; justify-content:space-between;} .tab-content { padding:1.2rem; } .forecast-days { grid-template-columns:1fr; } .weather-info { grid-template-columns:1fr; } }
@media (max-width:520px){ .tab-btn { padding:10px 16px; font-size:.8rem; } .header-content h1 { font-size:1.45rem; } .zone-card { padding:1.1rem; } .forecast-day { padding:1rem 1rem 1.2rem; } }

/* Map refresh overlay & toast */
.map-refresh-overlay { position:absolute; bottom:14px; left:14px; display:flex; flex-direction:column; gap:8px; z-index:450; }
.map-refresh-overlay .refresh-btn { backdrop-filter:blur(8px); background:linear-gradient(135deg,#14532d,#1e7a44); border:1px solid rgba(255,255,255,0.18); color:#e9ffee; padding:10px 18px; border-radius:14px; font-size:.9rem; display:flex; align-items:center; gap:8px; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,0.45), inset 0 0 0 1px rgba(255,255,255,0.05); transition:background .25s, transform .25s; }
.map-refresh-overlay .refresh-btn:hover { background:linear-gradient(135deg,#1a6f3c,#229555); }
.map-refresh-overlay .refresh-btn:active { transform:translateY(2px); }
.refresh-spinner { width:16px; height:16px; border:3px solid rgba(255,255,255,0.25); border-top-color:#fff; border-radius:50%; animation:spin .9s linear infinite; }
@keyframes spin { to { transform:rotate(360deg); } }
#map-toast-container { position:absolute; bottom:14px; right:14px; display:flex; flex-direction:column; gap:10px; z-index:460; }
.map-toast { background:linear-gradient(145deg,#0e2818,#114327); padding:12px 18px; border-radius:14px; color:#d4ffe3; font-size:.8rem; letter-spacing:.5px; box-shadow:0 6px 18px rgba(0,0,0,0.55),0 0 0 1px rgba(255,255,255,0.05); opacity:0; transform:translateY(6px); animation:toast-in .55s ease forwards, toast-out .55s ease forwards 4.5s; }
@keyframes toast-in { to { opacity:1; transform:translateY(0);} }
@keyframes toast-out { to { opacity:0; transform:translateY(-4px);} }

/* Interval selector minimal width */
#sh-interval { min-width:90px; }

/* Better contrast for selects & inputs in dark history panel */
#station-history-panel .sh-filters select,
#station-history-panel .sh-filters input[type=date],
#station-history-panel .sh-filters input[type=number] {
  background:rgba(255,255,255,0.92) !important;
  color:#0f5132 !important;
  border:1px solid #c6e8d4;
}
#station-history-panel .sh-filters select:focus,
#station-history-panel .sh-filters input[type=date]:focus,
#station-history-panel .sh-filters input[type=number]:focus {
  outline:none;
  box-shadow:0 0 0 2px var(--focus-ring);
  border-color:#198754;
}
#station-history-panel .sh-filters select option {
  background:#ffffff;
  color:#0f5132;
}
